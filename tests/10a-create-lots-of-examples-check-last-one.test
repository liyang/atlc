#!/bin/sh
# It is too time consuming to test each file for the right 
# lenght. Here I create lots and do a length test on the last one.

# Now create some eccentric cables (off-center coax).
../src/non_gui/circ_in_circ 500 400 0 1 > ../examples/eccentric-a.bmp >/dev/null 2>/dev/null
../src/non_gui/circ_in_circ 500 400 40 1 > ../examples/eccentric-b.bmp >/dev/null 2>/dev/null
../src/non_gui/circ_in_circ 500 200 0 1 > ../examples/eccentric-c.bmp >/dev/null 2>/dev/null
../src/non_gui/circ_in_circ 500 200 50 1 > ../examples/eccentric-d.bmp >/dev/null 2>/dev/null
../src/non_gui/circ_in_circ 500 200 100 1 > ../examples/eccentric-e.bmp >/dev/null 2>/dev/null
../src/non_gui/circ_in_circ 500 100 0 1 > ../examples/eccentric-f.bmp >/dev/null 2>/dev/null
../src/non_gui/circ_in_circ 500 100 50 1 > ../examples/eccentric-g.bmp >/dev/null 2>/dev/null
../src/non_gui/circ_in_circ 500 100 100 1 > ../examples/eccentric-h.bmp >/dev/null 2>/dev/null
../src/non_gui/circ_in_circ 500  50   0 1 > ../examples/eccentric-i.bmp >/dev/null 2>/dev/null
../src/non_gui/circ_in_circ 500  50  50 1 > ../examples/eccentric-j.bmp >/dev/null 2>/dev/null
../src/non_gui/circ_in_circ 500  50 100 1 > ../examples/eccentric-k.bmp >/dev/null 2>/dev/null
../src/non_gui/circ_in_circ 500  50 150 1 > ../examples/eccentric-l.bmp >/dev/null 2>/dev/null
../src/non_gui/circ_in_circ 500  50 200 1 > ../examples/eccentric-m.bmp >/dev/null 2>/dev/null
../src/non_gui/circ_in_circ -b 10 500  50 200 1 > ../examples/eccentric-n.bmp >/dev/null 2>/dev/null
../src/non_gui/sym_strip 1 201 301 ../examples/wide.bmp >/dev/null 2>/dev/null
../src/non_gui/rect_in_rect 268 100 10 40 25 200 100 45 1.0 4.8 > ../examples/pcb2.bmp >/dev/null 2>/dev/null
../src/non_gui/rect_cen_in_rect 268 100 100 50 4.8 > ../examples/central.bmp  >/dev/null 2>/dev/null
../src/non_gui/circ_in_circ 100 30 25 1.006 > ../examples/off-centre2.bmp >/dev/null 2>/dev/null
../src/non_gui/circ_in_rect 20 200 100 50 -5 10.2 > ../examples/cir.bmp >/dev/null 2>/dev/null

../src/non_gui/generate_coupler_bitmap 1.0  1.0 1.0 1.0  ../examples/coupler1.bmp  > test.txt
../src/non_gui/generate_coupler_bitmap 2.0  1.0 1.0 1.0  ../examples/coupler2.bmp  > test.txt
../src/non_gui/generate_coupler_bitmap 3.0  1.0 1.0 1.0  ../examples/coupler3.bmp  > test.txt
../src/non_gui/generate_coupler_bitmap 4.0  1.0 1.0 1.0  ../examples/coupler4.bmp  > test.txt
../src/non_gui/generate_coupler_bitmap 5.0  1.0 1.0 1.0006  ../examples/coupler5.bmp  > test.txt
../src/non_gui/generate_coupler_bitmap 1.0  1.0 0.5 3.335  ../examples/coupler6.bmp  > test.txt
../src/non_gui/generate_coupler_bitmap 1.0  1.0 0.1 2.33  ../examples/coupler7.bmp  > test.txt
../src/non_gui/generate_coupler_bitmap 0.25 1.0 1.0 4.8  ../examples/coupler8.bmp > test2.txt
# Write text to test2.txt and check that. Lack of gsl will show up. 
# Now check the length of the last file. It this is okay, it probably means
# the user has not run out of disk space. 

LENGTH=`../tools/src/myfilelength ../examples/coupler8.bmp`
if [ $LENGTH = 424762 ]; then
  echo "PASSED:" $0 >> tests.log
  exit 0
else
  echo "FAILED:" $0  >> tests.log
  exit 1
fi

